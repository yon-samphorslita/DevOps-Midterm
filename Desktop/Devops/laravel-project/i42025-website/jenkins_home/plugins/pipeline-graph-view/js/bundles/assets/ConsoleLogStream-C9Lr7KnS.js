import{H as z,j,r as ce,i as Jo,R as Qo}from"./connections-D9dwIvBS.js";const xt=0,Le=1,_e=2,xo=4;function Xt(e){return()=>e}function en(e){e()}function Io(e,t){return o=>e(t(o))}function Zt(e,t){return()=>e(t)}function vo(e,t){return o=>e(t,o)}function Ft(e){return e!==void 0}function tn(...e){return()=>{e.map(en)}}function Ue(){}function It(e,t){return t(e),e}function on(e,t){return t(e)}function X(...e){return e}function U(e,t){return e(Le,t)}function G(e,t){e(xt,t)}function Ot(e){e(_e)}function ie(e){return e(xo)}function L(e,t){return U(e,vo(t,xt))}function be(e,t){const o=e(Le,n=>{o(),t(n)});return o}function Jt(e){let t,o;return n=>r=>{t=r,o&&clearTimeout(o),o=setTimeout(()=>{n(t)},e)}}function To(e,t){return e===t}function Y(e=To){let t;return o=>n=>{e(t,n)||(t=n,o(n))}}function O(e){return t=>o=>{e(o)&&t(o)}}function y(e){return t=>Io(t,e)}function we(e){return t=>()=>{t(e)}}function I(e,...t){const o=nn(...t);return(n,r)=>{switch(n){case _e:Ot(e);return;case Le:return U(e,o(r))}}}function Ce(e,t){return o=>n=>{o(t=e(t,n))}}function $e(e){return t=>o=>{e>0?e--:t(o)}}function ze(e){let t=null,o;return n=>r=>{t=r,!o&&(o=setTimeout(()=>{o=void 0,n(t)},e))}}function A(...e){const t=new Array(e.length);let o=0,n=null;const r=Math.pow(2,e.length)-1;return e.forEach((i,s)=>{const l=Math.pow(2,s);U(i,c=>{const u=o;o=o|l,t[s]=c,u!==r&&o===r&&n&&(n(),n=null)})}),i=>s=>{const l=()=>{i([s].concat(t))};o===r?l():n=l}}function nn(...e){return t=>e.reduceRight(on,t)}function rn(e){let t,o;const n=()=>t==null?void 0:t();return function(r,i){switch(r){case Le:return i?o===i?void 0:(n(),o=i,t=U(e,i),t):(n(),Ue);case _e:n(),o=null;return}}}function S(e){let t=e;const o=V();return(n,r)=>{switch(n){case xt:t=r;break;case Le:{r(t);break}case xo:return t}return o(n,r)}}function le(e,t){return It(S(t),o=>L(e,o))}function V(){const e=[];return(t,o)=>{switch(t){case xt:e.slice().forEach(n=>{n(o)});return;case _e:e.splice(0,e.length);return;case Le:return e.push(o),()=>{const n=e.indexOf(o);n>-1&&e.splice(n,1)}}}}function fe(e){return It(V(),t=>L(e,t))}function N(e,t=[],{singleton:o}={singleton:!0}){return{constructor:e,dependencies:t,id:ln(),singleton:o}}const ln=()=>Symbol();function sn(e){const t=new Map,o=({constructor:n,dependencies:r,id:i,singleton:s})=>{if(s&&t.has(i))return t.get(i);const l=n(r.map(c=>o(c)));return s&&t.set(i,l),l};return o(e)}function te(...e){const t=V(),o=new Array(e.length);let n=0;const r=Math.pow(2,e.length)-1;return e.forEach((i,s)=>{const l=Math.pow(2,s);U(i,c=>{o[s]=c,n=n|l,n===r&&G(t,o)})}),function(i,s){switch(i){case _e:{Ot(t);return}case Le:return n===r&&s(o),U(t,s)}}}function M(e,t=To){return I(e,Y(t))}function Qt(...e){return function(t,o){switch(t){case _e:return;case Le:return tn(...e.map(n=>U(n,o)))}}}var he=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(he||{});const cn={0:"debug",3:"error",1:"log",2:"warn"},un=()=>typeof globalThis>"u"?window:globalThis,ke=N(()=>{const e=S(3);return{log:S((t,o,n=1)=>{var r;const i=(r=un().VIRTUOSO_LOG_LEVEL)!=null?r:ie(e);n>=i&&console[cn[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,o)}),logLevel:e}},[],{singleton:!0});function Pe(e,t,o){return Mt(e,t,o).callbackRef}function Mt(e,t,o){const n=z.useRef(null);let r=i=>{};if(typeof ResizeObserver<"u"){const i=z.useMemo(()=>new ResizeObserver(s=>{const l=()=>{const c=s[0].target;c.offsetParent!==null&&e(c)};o?l():requestAnimationFrame(l)}),[e]);r=s=>{s&&t?(i.observe(s),n.current=s):(n.current&&i.unobserve(n.current),n.current=null)}}return{callbackRef:r,ref:n}}function an(e,t,o,n,r,i,s,l,c){const u=z.useCallback(h=>{const T=dn(h.children,t,l?"offsetWidth":"offsetHeight",r);let m=h.parentElement;for(;!m.dataset.virtuosoScroller;)m=m.parentElement;const p=m.lastElementChild.dataset.viewportType==="window";let H;p&&(H=m.ownerDocument.defaultView);const v=s?l?s.scrollLeft:s.scrollTop:p?l?H.scrollX||H.document.documentElement.scrollLeft:H.scrollY||H.document.documentElement.scrollTop:l?m.scrollLeft:m.scrollTop,g=s?l?s.scrollWidth:s.scrollHeight:p?l?H.document.documentElement.scrollWidth:H.document.documentElement.scrollHeight:l?m.scrollWidth:m.scrollHeight,d=s?l?s.offsetWidth:s.offsetHeight:p?l?H.innerWidth:H.innerHeight:l?m.offsetWidth:m.offsetHeight;n({scrollHeight:g,scrollTop:Math.max(v,0),viewportHeight:d}),i==null||i(l?eo("column-gap",getComputedStyle(h).columnGap,r):eo("row-gap",getComputedStyle(h).rowGap,r)),T!==null&&e(T)},[e,t,r,i,s,n]);return Mt(u,o,c)}function dn(e,t,o,n){const r=e.length;if(r===0)return null;const i=[];for(let s=0;s<r;s++){const l=e.item(s);if(l.dataset.index===void 0)continue;const c=parseInt(l.dataset.index),u=parseFloat(l.dataset.knownSize),h=t(l,o);if(h===0&&n("Zero-sized element, this should not happen",{child:l},he.ERROR),h===u)continue;const T=i[i.length-1];i.length===0||T.size!==h||T.endIndex!==c-1?i.push({endIndex:c,size:h,startIndex:c}):i[i.length-1].endIndex++}return i}function eo(e,t,o){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&o(`${e} was not resolved to pixel value correctly`,t,he.WARN),t==="normal"?0:parseInt(t??"0",10)}function So(e,t,o){const n=z.useRef(null),r=z.useCallback(c=>{if(!(c!=null&&c.offsetParent))return;const u=c.getBoundingClientRect(),h=u.width;let T,m;if(t){const p=t.getBoundingClientRect(),H=u.top-p.top;m=p.height-Math.max(0,H),T=H+t.scrollTop}else{const p=s.current.ownerDocument.defaultView;m=p.innerHeight-Math.max(0,u.top),T=u.top+p.scrollY}n.current={offsetTop:T,visibleHeight:m,visibleWidth:h},e(n.current)},[e,t]),{callbackRef:i,ref:s}=Mt(r,!0,o),l=z.useCallback(()=>{r(s.current)},[r,s]);return z.useEffect(()=>{var c;if(t){t.addEventListener("scroll",l);const u=new ResizeObserver(()=>{requestAnimationFrame(l)});return u.observe(t),()=>{t.removeEventListener("scroll",l),u.unobserve(t)}}else{const u=(c=s.current)==null?void 0:c.ownerDocument.defaultView;return u==null||u.addEventListener("scroll",l),u==null||u.addEventListener("resize",l),()=>{u==null||u.removeEventListener("scroll",l),u==null||u.removeEventListener("resize",l)}}},[l,t]),i}const ue=N(()=>{const e=V(),t=V(),o=S(0),n=V(),r=S(0),i=V(),s=V(),l=S(0),c=S(0),u=S(0),h=S(0),T=V(),m=V(),p=S(!1),H=S(!1),v=S(!1);return L(I(e,y(({scrollTop:g})=>g)),t),L(I(e,y(({scrollHeight:g})=>g)),s),L(t,r),{deviation:o,fixedFooterHeight:u,fixedHeaderHeight:c,footerHeight:h,headerHeight:l,horizontalDirection:H,scrollBy:m,scrollContainerState:e,scrollHeight:s,scrollingInProgress:p,scrollTo:T,scrollTop:t,skipAnimationFrameInResizeObserver:v,smoothScrollTargetReached:n,statefulScrollTop:r,viewportHeight:i}},[],{singleton:!0}),Je={lvl:0};function wo(e,t){const o=e.length;if(o===0)return[];let{index:n,value:r}=t(e[0]);const i=[];for(let s=1;s<o;s++){const{index:l,value:c}=t(e[s]);i.push({end:l-1,start:n,value:r}),n=l,r=c}return i.push({end:1/0,start:n,value:r}),i}function q(e){return e===Je}function Qe(e,t){if(!q(e))return t===e.k?e.v:t<e.k?Qe(e.l,t):Qe(e.r,t)}function Te(e,t,o="k"){if(q(e))return[-1/0,void 0];if(Number(e[o])===t)return[e.k,e.v];if(Number(e[o])<t){const n=Te(e.r,t,o);return n[0]===-1/0?[e.k,e.v]:n}return Te(e.l,t,o)}function de(e,t,o){return q(e)?Ho(t,o,1):t===e.k?ee(e,{k:t,v:o}):t<e.k?to(ee(e,{l:de(e.l,t,o)})):to(ee(e,{r:de(e.r,t,o)}))}function Ne(){return Je}function vt(e,t,o){if(q(e))return[];const n=Te(e,t)[0];return fn(zt(e,n,o))}function Bt(e,t){if(q(e))return Je;const{k:o,l:n,r}=e;if(t===o){if(q(n))return r;if(q(r))return n;{const[i,s]=bo(n);return dt(ee(e,{k:i,l:Co(n),v:s}))}}else return t<o?dt(ee(e,{l:Bt(n,t)})):dt(ee(e,{r:Bt(r,t)}))}function je(e){return q(e)?[]:[...je(e.l),{k:e.k,v:e.v},...je(e.r)]}function zt(e,t,o){if(q(e))return[];const{k:n,l:r,r:i,v:s}=e;let l=[];return n>t&&(l=l.concat(zt(r,t,o))),n>=t&&n<=o&&l.push({k:n,v:s}),n<=o&&(l=l.concat(zt(i,t,o))),l}function dt(e){const{l:t,lvl:o,r:n}=e;if(n.lvl>=o-1&&t.lvl>=o-1)return e;if(o>n.lvl+1){if(Ct(t))return yo(ee(e,{lvl:o-1}));if(!q(t)&&!q(t.r))return ee(t.r,{l:ee(t,{r:t.r.l}),lvl:o,r:ee(e,{l:t.r.r,lvl:o-1})});throw new Error("Unexpected empty nodes")}else{if(Ct(e))return Et(ee(e,{lvl:o-1}));if(!q(n)&&!q(n.l)){const r=n.l,i=Ct(r)?n.lvl-1:n.lvl;return ee(r,{l:ee(e,{lvl:o-1,r:r.l}),lvl:r.lvl+1,r:Et(ee(n,{l:r.r,lvl:i}))})}else throw new Error("Unexpected empty nodes")}}function ee(e,t){return Ho(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function Co(e){return q(e.r)?e.l:dt(ee(e,{r:Co(e.r)}))}function Ct(e){return q(e)||e.lvl>e.r.lvl}function bo(e){return q(e.r)?[e.k,e.v]:bo(e.r)}function Ho(e,t,o,n=Je,r=Je){return{k:e,l:n,lvl:o,r,v:t}}function to(e){return Et(yo(e))}function yo(e){const{l:t}=e;return!q(t)&&t.lvl===e.lvl?ee(t,{r:ee(e,{l:t.r})}):e}function Et(e){const{lvl:t,r:o}=e;return!q(o)&&!q(o.r)&&o.lvl===t&&o.r.lvl===t?ee(o,{l:ee(e,{r:o.l}),lvl:t+1}):e}function fn(e){return wo(e,({k:t,v:o})=>({index:t,value:o}))}function Ro(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function et(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}const Wt=N(()=>({recalcInProgress:S(!1)}),[],{singleton:!0});function Bo(e,t,o){return e[ht(e,t,o)]}function ht(e,t,o,n=0){let r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),s=e[i],l=o(s,t);if(l===0)return i;if(l===-1){if(r-n<2)return i-1;r=i-1}else{if(r===n)return i;n=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function hn(e,t,o,n){const r=ht(e,t,n),i=ht(e,o,n,r);return e.slice(r,i+1)}function Ee(e,t){return Math.round(e.getBoundingClientRect()[t])}function Tt(e){return!q(e.groupOffsetTree)}function jt({index:e},t){return t===e?0:t<e?-1:1}function mn(){return{groupIndices:[],groupOffsetTree:Ne(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Ne()}}function gn(e,t){let o=q(e)?0:1/0;for(const n of t){const{endIndex:r,size:i,startIndex:s}=n;if(o=Math.min(o,s),q(e)){e=de(e,0,i);continue}const l=vt(e,s-1,r+1);if(l.some(wn(n)))continue;let c=!1,u=!1;for(const{end:h,start:T,value:m}of l)c?(r>=T||i===m)&&(e=Bt(e,T)):(u=m!==i,c=!0),h>r&&r>=T&&m!==i&&(e=de(e,r+1,m));u&&(e=de(e,s,i))}return[e,o]}function pn(e){return typeof e.groupIndex<"u"}function xn({offset:e},t){return t===e?0:t<e?-1:1}function tt(e,t,o){if(t.length===0)return 0;const{index:n,offset:r,size:i}=Bo(t,e,jt),s=e-n,l=i*s+(s-1)*o+r;return l>0?l+o:l}function zo(e,t){if(!Tt(t))return e;let o=0;for(;t.groupIndices[o]<=e+o;)o++;return e+o}function Eo(e,t,o){if(pn(e))return t.groupIndices[e.groupIndex]+1;{const n=e.index==="LAST"?o:e.index;let r=zo(n,t);return r=Math.max(0,r,Math.min(o,r)),r}}function In(e,t,o,n=0){return n>0&&(t=Math.max(t,Bo(e,n,jt).offset)),wo(hn(e,t,o,xn),Sn)}function vn(e,[t,o,n,r]){t.length>0&&n("received item sizes",t,he.DEBUG);const i=e.sizeTree;let s=i,l=0;if(o.length>0&&q(i)&&t.length===2){const m=t[0].size,p=t[1].size;s=o.reduce((H,v)=>de(de(H,v,m),v+1,p),s)}else[s,l]=gn(s,t);if(s===i)return e;const{lastIndex:c,lastOffset:u,lastSize:h,offsetTree:T}=Lt(e.offsetTree,l,s,r);return{groupIndices:o,groupOffsetTree:o.reduce((m,p)=>de(m,p,tt(p,T,r)),Ne()),lastIndex:c,lastOffset:u,lastSize:h,offsetTree:T,sizeTree:s}}function Tn(e){return je(e).map(({k:t,v:o},n,r)=>{const i=r[n+1];return{endIndex:i?i.k-1:1/0,size:o,startIndex:t}})}function oo(e,t){let o=0,n=0;for(;o<e;)o+=t[n+1]-t[n]-1,n++;return n-(o===e?0:1)}function Lt(e,t,o,n){let r=e,i=0,s=0,l=0,c=0;if(t!==0){c=ht(r,t-1,jt),l=r[c].offset;const u=Te(o,t-1);i=u[0],s=u[1],r.length&&r[c].size===Te(o,t)[1]&&(c-=1),r=r.slice(0,c+1)}else r=[];for(const{start:u,value:h}of vt(o,t,1/0)){const T=u-i,m=T*s+l+T*n;r.push({index:u,offset:m,size:h}),i=u,l=m,s=h}return{lastIndex:i,lastOffset:l,lastSize:s,offsetTree:r}}function Sn(e){return{index:e.index,value:e}}function wn(e){const{endIndex:t,size:o,startIndex:n}=e;return r=>r.start===n&&(r.end===t||r.end===1/0)&&r.value===o}const Cn={offsetHeight:"height",offsetWidth:"width"},He=N(([{log:e},{recalcInProgress:t}])=>{const o=V(),n=V(),r=le(n,0),i=V(),s=V(),l=S(0),c=S([]),u=S(void 0),h=S(void 0),T=S((x,f)=>Ee(x,Cn[f])),m=S(void 0),p=S(0),H=mn(),v=le(I(o,A(c,e,p),Ce(vn,H),Y()),H),g=le(I(c,Y(),Ce((x,f)=>({current:f,prev:x.current}),{current:[],prev:[]}),y(({prev:x})=>x)),[]);L(I(c,O(x=>x.length>0),A(v,p),y(([x,f,b])=>{const R=x.reduce((k,F,P)=>de(k,F,tt(F,f.offsetTree,b)||P),Ne());return{...f,groupIndices:x,groupOffsetTree:R}})),v),L(I(n,A(v),O(([x,{lastIndex:f}])=>x<f),y(([x,{lastIndex:f,lastSize:b}])=>[{endIndex:f,size:b,startIndex:x}])),o),L(u,h);const d=le(I(u,y(x=>x===void 0)),!0);L(I(h,O(x=>x!==void 0&&q(ie(v).sizeTree)),y(x=>[{endIndex:0,size:x,startIndex:0}])),o);const a=fe(I(o,A(v),Ce(({sizes:x},[f,b])=>({changed:b!==x,sizes:b}),{changed:!1,sizes:H}),y(x=>x.changed)));U(I(l,Ce((x,f)=>({diff:x.prev-f,prev:f}),{diff:0,prev:0}),y(x=>x.diff)),x=>{const{groupIndices:f}=ie(v);if(x>0)G(t,!0),G(i,x+oo(x,f));else if(x<0){const b=ie(g);b.length>0&&(x-=oo(-x,b)),G(s,x)}}),U(I(l,A(e)),([x,f])=>{x<0&&f("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},he.ERROR)});const C=fe(i);L(I(i,A(v),y(([x,f])=>{const b=f.groupIndices.length>0,R=[],k=f.lastSize;if(b){const F=Qe(f.sizeTree,0);let P=0,$=0;for(;P<x;){const E=f.groupIndices[$],_=f.groupIndices.length===$+1?1/0:f.groupIndices[$+1]-E-1;R.push({endIndex:E,size:F,startIndex:E}),R.push({endIndex:E+1+_-1,size:k,startIndex:E+1}),$++,P+=_+1}const K=je(f.sizeTree);return P!==x&&K.shift(),K.reduce((E,{k:_,v:oe})=>{let me=E.ranges;return E.prevSize!==0&&(me=[...E.ranges,{endIndex:_+x-1,size:E.prevSize,startIndex:E.prevIndex}]),{prevIndex:_+x,prevSize:oe,ranges:me}},{prevIndex:x,prevSize:0,ranges:R}).ranges}return je(f.sizeTree).reduce((F,{k:P,v:$})=>({prevIndex:P+x,prevSize:$,ranges:[...F.ranges,{endIndex:P+x-1,size:F.prevSize,startIndex:F.prevIndex}]}),{prevIndex:0,prevSize:k,ranges:[]}).ranges})),o);const B=fe(I(s,A(v,p),y(([x,{offsetTree:f},b])=>{const R=-x;return tt(R,f,b)})));return L(I(s,A(v,p),y(([x,f,b])=>{if(f.groupIndices.length>0){if(q(f.sizeTree))return f;let R=Ne();const k=ie(g);let F=0,P=0,$=0;for(;F<-x;){$=k[P];const K=k[P+1]-$-1;P++,F+=K+1}if(R=je(f.sizeTree).reduce((K,{k:E,v:_})=>de(K,Math.max(0,E+x),_),R),F!==-x){const K=Qe(f.sizeTree,$);R=de(R,0,K);const E=Te(f.sizeTree,-x+1)[1];R=de(R,1,E)}return{...f,sizeTree:R,...Lt(f.offsetTree,0,R,b)}}else{const R=je(f.sizeTree).reduce((k,{k:F,v:P})=>de(k,Math.max(0,F+x),P),Ne());return{...f,sizeTree:R,...Lt(f.offsetTree,0,R,b)}}})),v),{beforeUnshiftWith:C,data:m,defaultItemSize:h,firstItemIndex:l,fixedItemSize:u,gap:p,groupIndices:c,itemSize:T,listRefresh:a,shiftWith:s,shiftWithOffset:B,sizeRanges:o,sizes:v,statefulTotalCount:r,totalCount:n,trackItemSizes:d,unshiftWith:i}},X(ke,Wt),{singleton:!0});function bn(e){return e.reduce((t,o)=>(t.groupIndices.push(t.totalCount),t.totalCount+=o+1,t),{groupIndices:[],totalCount:0})}const Lo=N(([{groupIndices:e,sizes:t,totalCount:o},{headerHeight:n,scrollTop:r}])=>{const i=V(),s=V(),l=fe(I(i,y(bn)));return L(I(l,y(c=>c.totalCount)),o),L(I(l,y(c=>c.groupIndices)),e),L(I(te(r,t,n),O(([c,u])=>Tt(u)),y(([c,u,h])=>Te(u.groupOffsetTree,Math.max(c-h,0),"v")[0]),Y(),y(c=>[c])),s),{groupCounts:i,topItemsIndexes:s}},X(He,ue)),Fe=N(([{log:e}])=>{const t=S(!1),o=fe(I(t,O(n=>n),Y()));return U(t,n=>{n&&ie(e)("props updated",{},he.DEBUG)}),{didMount:o,propsReady:t}},X(ke),{singleton:!0}),Hn=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function ko(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!Hn)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const nt=N(([{gap:e,listRefresh:t,sizes:o,totalCount:n},{fixedFooterHeight:r,fixedHeaderHeight:i,footerHeight:s,headerHeight:l,scrollingInProgress:c,scrollTo:u,smoothScrollTargetReached:h,viewportHeight:T},{log:m}])=>{const p=V(),H=V(),v=S(0);let g=null,d=null,a=null;function C(){g&&(g(),g=null),a&&(a(),a=null),d&&(clearTimeout(d),d=null),G(c,!1)}return L(I(p,A(o,T,n,v,l,s,m),A(e,i,r),y(([[B,x,f,b,R,k,F,P],$,K,E])=>{const _=ko(B),{align:oe,behavior:me,offset:xe}=_,Ie=b-1,ae=Eo(_,x,Ie);let se=tt(ae,x.offsetTree,$)+k;oe==="end"?(se+=K+Te(x.sizeTree,ae)[1]-f+E,ae===Ie&&(se+=F)):oe==="center"?se+=(K+Te(x.sizeTree,ae)[1]-f+E)/2:se-=R,xe&&(se+=xe);const Oe=ve=>{C(),ve?(P("retrying to scroll to",{location:B},he.DEBUG),G(p,B)):(G(H,!0),P("list did not change, scroll successful",{},he.DEBUG))};if(C(),me==="smooth"){let ve=!1;a=U(t,qe=>{ve=ve||qe}),g=be(h,()=>{Oe(ve)})}else g=be(I(t,yn(150)),Oe);return d=setTimeout(()=>{C()},1200),G(c,!0),P("scrolling from index to",{behavior:me,index:ae,top:se},he.DEBUG),{behavior:me,top:se}})),u),{scrollTargetReached:H,scrollToIndex:p,topListHeight:v}},X(He,ue,ke),{singleton:!0});function yn(e){return t=>{const o=setTimeout(()=>{t(!1)},e);return n=>{n&&(t(!0),clearTimeout(o))}}}function Pt(e,t){e==0?t():requestAnimationFrame(()=>{Pt(e-1,t)})}function Gt(e,t){const o=t-1;return typeof e=="number"?e:e.index==="LAST"?o:e.index}const rt=N(([{defaultItemSize:e,listRefresh:t,sizes:o},{scrollTop:n},{scrollTargetReached:r,scrollToIndex:i},{didMount:s}])=>{const l=S(!0),c=S(0),u=S(!0);return L(I(s,A(c),O(([h,T])=>!!T),we(!1)),l),L(I(s,A(c),O(([h,T])=>!!T),we(!1)),u),U(I(te(t,s),A(l,o,e,u),O(([[,h],T,{sizeTree:m},p,H])=>h&&(!q(m)||Ft(p))&&!T&&!H),A(c)),([,h])=>{be(r,()=>{G(u,!0)}),Pt(4,()=>{be(n,()=>{G(l,!0)}),G(i,h)})}),{initialItemFinalLocationReached:u,initialTopMostItemIndex:c,scrolledToInitialItem:l}},X(He,ue,nt,Fe),{singleton:!0});function Fo(e,t){return Math.abs(e-t)<1.01}const ot="up",Xe="down",Rn="none",Bn={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},zn=0,it=N(([{footerHeight:e,headerHeight:t,scrollBy:o,scrollContainerState:n,scrollTop:r,viewportHeight:i}])=>{const s=S(!1),l=S(!0),c=V(),u=V(),h=S(4),T=S(zn),m=le(I(Qt(I(M(r),$e(1),we(!0)),I(M(r),$e(1),we(!1),Jt(100))),Y()),!1),p=le(I(Qt(I(o,we(!0)),I(o,we(!1),Jt(200))),Y()),!1);L(I(te(M(r),M(T)),y(([a,C])=>a<=C),Y()),l),L(I(l,ze(50)),u);const H=fe(I(te(n,M(i),M(t),M(e),M(h)),Ce((a,[{scrollHeight:C,scrollTop:B},x,f,b,R])=>{const k=B+x-C>-R,F={scrollHeight:C,scrollTop:B,viewportHeight:x};if(k){let $,K;return B>a.state.scrollTop?($="SCROLLED_DOWN",K=a.state.scrollTop-B):($="SIZE_DECREASED",K=a.state.scrollTop-B||a.scrollTopDelta),{atBottom:!0,atBottomBecause:$,scrollTopDelta:K,state:F}}let P;return F.scrollHeight>a.state.scrollHeight?P="SIZE_INCREASED":x<a.state.viewportHeight?P="VIEWPORT_HEIGHT_DECREASING":B<a.state.scrollTop?P="SCROLLING_UPWARDS":P="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:P,state:F}},Bn),Y((a,C)=>a&&a.atBottom===C.atBottom))),v=le(I(n,Ce((a,{scrollHeight:C,scrollTop:B,viewportHeight:x})=>{if(Fo(a.scrollHeight,C))return{changed:!1,jump:0,scrollHeight:C,scrollTop:B};{const f=C-(B+x)<1;return a.scrollTop!==B&&f?{changed:!0,jump:a.scrollTop-B,scrollHeight:C,scrollTop:B}:{changed:!0,jump:0,scrollHeight:C,scrollTop:B}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),O(a=>a.changed),y(a=>a.jump)),0);L(I(H,y(a=>a.atBottom)),s),L(I(s,ze(50)),c);const g=S(Xe);L(I(n,y(({scrollTop:a})=>a),Y(),Ce((a,C)=>ie(p)?{direction:a.direction,prevScrollTop:C}:{direction:C<a.prevScrollTop?ot:Xe,prevScrollTop:C},{direction:Xe,prevScrollTop:0}),y(a=>a.direction)),g),L(I(n,ze(50),we(Rn)),g);const d=S(0);return L(I(m,O(a=>!a),we(0)),d),L(I(r,ze(100),A(m),O(([a,C])=>!!C),Ce(([a,C],[B])=>[C,B],[0,0]),y(([a,C])=>C-a)),d),{atBottomState:H,atBottomStateChange:c,atBottomThreshold:h,atTopStateChange:u,atTopThreshold:T,isAtBottom:s,isAtTop:l,isScrolling:m,lastJumpDueToItemResize:v,scrollDirection:g,scrollVelocity:d}},X(ue)),mt="top",gt="bottom",no="none";function ro(e,t,o){return typeof e=="number"?o===ot&&t===mt||o===Xe&&t===gt?e:0:o===ot?t===mt?e.main:e.reverse:t===gt?e.main:e.reverse}function io(e,t){var o;return typeof e=="number"?e:(o=e[t])!=null?o:0}const At=N(([{deviation:e,fixedHeaderHeight:t,headerHeight:o,scrollTop:n,viewportHeight:r}])=>{const i=V(),s=S(0),l=S(0),c=S(0),u=le(I(te(M(n),M(r),M(o),M(i,et),M(c),M(s),M(t),M(e),M(l)),y(([h,T,m,[p,H],v,g,d,a,C])=>{const B=h-a,x=g+d,f=Math.max(m-B,0);let b=no;const R=io(C,mt),k=io(C,gt);return p-=a,p+=m+d,H+=m+d,H-=a,p>h+x-R&&(b=ot),H<h-f+T+k&&(b=Xe),b!==no?[Math.max(B-m-ro(v,mt,b)-R,0),B-f-d+T+ro(v,gt,b)+k]:null}),O(h=>h!=null),Y(et)),[0,0]);return{increaseViewportBy:l,listBoundary:i,overscan:c,topListHeight:s,visibleRange:u}},X(ue),{singleton:!0});function En(e,t,o){if(Tt(t)){const n=zo(e,t);return[{index:Te(t.groupOffsetTree,n)[0],offset:0,size:0},{data:o==null?void 0:o[0],index:n,offset:0,size:0}]}return[{data:o==null?void 0:o[0],index:e,offset:0,size:0}]}const bt={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function ft(e,t,o,n,r,i){const{lastIndex:s,lastOffset:l,lastSize:c}=r;let u=0,h=0;if(e.length>0){u=e[0].offset;const v=e[e.length-1];h=v.offset+v.size}const T=o-s,m=l+T*c+(T-1)*n,p=u,H=m-h;return{bottom:h,firstItemIndex:i,items:lo(e,r,i),offsetBottom:H,offsetTop:u,top:p,topItems:lo(t,r,i),topListHeight:t.reduce((v,g)=>g.size+v,0),totalCount:o}}function Oo(e,t,o,n,r,i){let s=0;if(o.groupIndices.length>0)for(const h of o.groupIndices){if(h-s>=e)break;s++}const l=e+s,c=Gt(t,l),u=Array.from({length:l}).map((h,T)=>({data:i[T+c],index:T+c,offset:0,size:0}));return ft(u,[],l,r,o,n)}function lo(e,t,o){if(e.length===0)return[];if(!Tt(t))return e.map(u=>({...u,index:u.index+o,originalIndex:u.index}));const n=e[0].index,r=e[e.length-1].index,i=[],s=vt(t.groupOffsetTree,n,r);let l,c=0;for(const u of e){(!l||l.end<u.index)&&(l=s.shift(),c=t.groupIndices.indexOf(l.start));let h;u.index===l.start?h={index:c,type:"group"}:h={groupIndex:c,index:u.index-(c+1)+o},i.push({...h,data:u.data,offset:u.offset,originalIndex:u.index,size:u.size})}return i}const Ge=N(([{data:e,firstItemIndex:t,gap:o,sizes:n,totalCount:r},i,{listBoundary:s,topListHeight:l,visibleRange:c},{initialTopMostItemIndex:u,scrolledToInitialItem:h},{topListHeight:T},m,{didMount:p},{recalcInProgress:H}])=>{const v=S([]),g=S(0),d=V();L(i.topItemsIndexes,v);const a=le(I(te(p,H,M(c,et),M(r),M(n),M(u),h,M(v),M(t),M(o),e),O(([f,b,,R,,,,,,,k])=>{const F=k&&k.length!==R;return f&&!b&&!F}),y(([,,[f,b],R,k,F,P,$,K,E,_])=>{const oe=k,{offsetTree:me,sizeTree:xe}=oe,Ie=ie(g);if(R===0)return{...bt,totalCount:R};if(f===0&&b===0)return Ie===0?{...bt,totalCount:R}:Oo(Ie,F,k,K,E,_||[]);if(q(xe))return Ie>0?null:ft(En(Gt(F,R),oe,_),[],R,E,oe,K);const ae=[];if($.length>0){const Ae=$[0],Se=$[$.length-1];let ye=0;for(const w of vt(xe,Ae,Se)){const D=w.value,Z=Math.max(w.start,Ae),ne=Math.min(w.end,Se);for(let Q=Z;Q<=ne;Q++)ae.push({data:_==null?void 0:_[Q],index:Q,offset:ye,size:D}),ye+=D}}if(!P)return ft([],ae,R,E,oe,K);const se=$.length>0?$[$.length-1]+1:0,Oe=In(me,f,b,se);if(Oe.length===0)return null;const ve=R-1,qe=It([],Ae=>{for(const Se of Oe){const ye=Se.value;let w=ye.offset,D=Se.start;const Z=ye.size;if(ye.offset<f){D+=Math.floor((f-ye.offset+E)/(Z+E));const Q=D-Se.start;w+=Q*Z+Q*E}D<se&&(w+=(se-D)*Z,D=se);const ne=Math.min(Se.end,ve);for(let Q=D;Q<=ne&&!(w>=b);Q++)Ae.push({data:_==null?void 0:_[Q],index:Q,offset:w,size:Z}),w+=Z+E}});return ft(qe,ae,R,E,oe,K)}),O(f=>f!==null),Y()),bt);L(I(e,O(Ft),y(f=>f==null?void 0:f.length)),r),L(I(a,y(f=>f.topListHeight)),T),L(T,l),L(I(a,y(f=>[f.top,f.bottom])),s),L(I(a,y(f=>f.items)),d);const C=fe(I(a,O(({items:f})=>f.length>0),A(r,e),O(([{items:f},b])=>f[f.length-1].originalIndex===b-1),y(([,f,b])=>[f-1,b]),Y(et),y(([f])=>f))),B=fe(I(a,ze(200),O(({items:f,topItems:b})=>f.length>0&&f[0].originalIndex===b.length),y(({items:f})=>f[0].index),Y())),x=fe(I(a,O(({items:f})=>f.length>0),y(({items:f})=>{let b=0,R=f.length-1;for(;f[b].type==="group"&&b<R;)b++;for(;f[R].type==="group"&&R>b;)R--;return{endIndex:f[R].index,startIndex:f[b].index}}),Y(Ro)));return{endReached:C,initialItemCount:g,itemsRendered:d,listState:a,rangeChanged:x,startReached:B,topItemsIndexes:v,...m}},X(He,Lo,At,rt,nt,it,Fe,Wt),{singleton:!0}),Mo=N(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:o,headerHeight:n},{listState:r}])=>{const i=V(),s=le(I(te(o,e,n,t,r),y(([l,c,u,h,T])=>l+c+u+h+T.offsetBottom+T.bottom)),0);return L(M(s),i),{totalListHeight:s,totalListHeightChanged:i}},X(ue,Ge),{singleton:!0}),Ln=N(([{viewportHeight:e},{totalListHeight:t}])=>{const o=S(!1),n=le(I(te(o,e,t),O(([r])=>r),y(([,r,i])=>Math.max(0,r-i)),ze(0),Y()),0);return{alignToBottom:o,paddingTopAddition:n}},X(ue,Mo),{singleton:!0});function so(e){return e?e==="smooth"?"smooth":"auto":!1}const kn=(e,t)=>typeof e=="function"?so(e(t)):t&&so(e),Fn=N(([{listRefresh:e,totalCount:t},{atBottomState:o,isAtBottom:n},{scrollToIndex:r},{scrolledToInitialItem:i},{didMount:s,propsReady:l},{log:c},{scrollingInProgress:u}])=>{const h=S(!1),T=V();let m=null;function p(v){G(r,{align:"end",behavior:v,index:"LAST"})}U(I(te(I(M(t),$e(1)),s),A(M(h),n,i,u),y(([[v,g],d,a,C,B])=>{let x=g&&C,f="auto";return x&&(f=kn(d,a||B),x=x&&!!f),{followOutputBehavior:f,shouldFollow:x,totalCount:v}}),O(({shouldFollow:v})=>v)),({followOutputBehavior:v,totalCount:g})=>{m&&(m(),m=null),m=be(e,()=>{ie(c)("following output to ",{totalCount:g},he.DEBUG),p(v),m=null})});function H(v){const g=be(o,d=>{v&&!d.atBottom&&d.notAtBottomBecause==="SIZE_INCREASED"&&!m&&(ie(c)("scrolling to bottom due to increased size",{},he.DEBUG),p("auto"))});setTimeout(g,100)}return U(I(te(M(h),t,l),O(([v,,g])=>v&&g),Ce(({value:v},[,g])=>({refreshed:v===g,value:g}),{refreshed:!1,value:0}),O(({refreshed:v})=>v),A(h,t)),([,v])=>{ie(i)&&H(v!==!1)}),U(T,()=>{H(ie(h)!==!1)}),U(te(M(h),o),([v,g])=>{v&&!g.atBottom&&g.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&p("auto")}),{autoscrollToBottom:T,followOutput:h}},X(He,it,nt,rt,Fe,ke,ue)),On=N(([{data:e,firstItemIndex:t,gap:o,sizes:n},{initialTopMostItemIndex:r},{initialItemCount:i,listState:s},{didMount:l}])=>(L(I(l,A(i),O(([,c])=>c!==0),A(r,n,t,o,e),y(([[,c],u,h,T,m,p=[]])=>Oo(c,u,h,T,m,p))),s),{}),X(He,rt,Ge,Fe),{singleton:!0}),Mn=N(([{didMount:e},{scrollTo:t},{listState:o}])=>{const n=S(0);return U(I(e,A(n),O(([,r])=>r!==0),y(([,r])=>({top:r}))),r=>{be(I(o,$e(1),O(i=>i.items.length>1)),()=>{requestAnimationFrame(()=>{G(t,r)})})}),{initialScrollTop:n}},X(Fe,ue,Ge),{singleton:!0}),Wn=({itemBottom:e,itemTop:t,locationParams:{align:o,behavior:n,...r},viewportBottom:i,viewportTop:s})=>t<s?{...r,align:o??"start",behavior:n}:e>i?{...r,align:o??"end",behavior:n}:null,jn=N(([{gap:e,sizes:t,totalCount:o},{fixedFooterHeight:n,fixedHeaderHeight:r,headerHeight:i,scrollingInProgress:s,scrollTop:l,viewportHeight:c},{scrollToIndex:u}])=>{const h=V();return L(I(h,A(t,c,o,i,r,n,l),A(e),y(([[T,m,p,H,v,g,d,a],C])=>{const{align:B,behavior:x,calculateViewLocation:f=Wn,done:b,...R}=T,k=Eo(T,m,H-1),F=tt(k,m.offsetTree,C)+v+g,P=F+Te(m.sizeTree,k)[1],$=a+g,K=a+p-d,E=f({itemBottom:P,itemTop:F,locationParams:{align:B,behavior:x,...R},viewportBottom:K,viewportTop:$});return E?b&&be(I(s,O(_=>!_),$e(ie(s)?1:2)),b):b&&b(),E}),O(T=>T!==null)),u),{scrollIntoView:h}},X(He,ue,nt,Ge,ke),{singleton:!0}),Wo=N(([{scrollVelocity:e}])=>{const t=S(!1),o=V(),n=S(!1);return L(I(e,A(n,t,o),O(([r,i])=>!!i),y(([r,i,s,l])=>{const{enter:c,exit:u}=i;if(s){if(u(r,l))return!1}else if(c(r,l))return!0;return s}),Y()),t),U(I(te(t,e,o),A(n)),([[r,i,s],l])=>{r&&l&&l.change&&l.change(i,s)}),{isSeeking:t,scrollSeekConfiguration:n,scrollSeekRangeChanged:o,scrollVelocity:e}},X(it),{singleton:!0}),Dt=N(([{scrollContainerState:e,scrollTo:t}])=>{const o=V(),n=V(),r=V(),i=S(!1),s=S(void 0);return L(I(te(o,n),y(([{scrollHeight:l,scrollTop:c,viewportHeight:u},{offsetTop:h}])=>({scrollHeight:l,scrollTop:Math.max(0,c-h),viewportHeight:u}))),e),L(I(t,A(n),y(([l,{offsetTop:c}])=>({...l,top:l.top+c}))),r),{customScrollParent:s,useWindowScroll:i,windowScrollContainerState:o,windowScrollTo:r,windowViewportRect:n}},X(ue)),Pn=N(([{sizeRanges:e,sizes:t},{headerHeight:o,scrollTop:n},{initialTopMostItemIndex:r},{didMount:i},{useWindowScroll:s,windowScrollContainerState:l,windowViewportRect:c}])=>{const u=V(),h=S(void 0),T=S(null),m=S(null);return L(l,T),L(c,m),U(I(u,A(t,n,s,T,m,o)),([p,H,v,g,d,a,C])=>{const B=Tn(H.sizeTree);g&&d!==null&&a!==null&&(v=d.scrollTop-a.offsetTop),v-=C,p({ranges:B,scrollTop:v})}),L(I(h,O(Ft),y(Gn)),r),L(I(i,A(h),O(([,p])=>p!==void 0),Y(),y(([,p])=>p.ranges)),e),{getState:u,restoreStateFrom:h}},X(He,ue,rt,Fe,Dt));function Gn(e){return{align:"start",index:0,offset:e.scrollTop}}const An=N(([{topItemsIndexes:e}])=>{const t=S(0);return L(I(t,O(o=>o>=0),y(o=>Array.from({length:o}).map((n,r)=>r))),e),{topItemCount:t}},X(Ge));function jo(e){let t=!1,o;return()=>(t||(t=!0,o=e()),o)}const Dn=jo(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Vn=N(([{deviation:e,scrollBy:t,scrollingInProgress:o,scrollTop:n},{isAtBottom:r,isScrolling:i,lastJumpDueToItemResize:s,scrollDirection:l},{listState:c},{beforeUnshiftWith:u,gap:h,shiftWithOffset:T,sizes:m},{log:p},{recalcInProgress:H}])=>{const v=fe(I(c,A(s),Ce(([,d,a,C],[{bottom:B,items:x,offsetBottom:f,totalCount:b},R])=>{const k=B+f;let F=0;return a===b&&d.length>0&&x.length>0&&(x[0].originalIndex===0&&d[0].originalIndex===0||(F=k-C,F!==0&&(F+=R))),[F,x,b,k]},[0,[],0,0]),O(([d])=>d!==0),A(n,l,o,r,p,H),O(([,d,a,C,,,B])=>!B&&!C&&d!==0&&a===ot),y(([[d],,,,,a])=>(a("Upward scrolling compensation",{amount:d},he.DEBUG),d))));function g(d){d>0?(G(t,{behavior:"auto",top:-d}),G(e,0)):(G(e,0),G(t,{behavior:"auto",top:-d}))}return U(I(v,A(e,i)),([d,a,C])=>{C&&Dn()?G(e,a-d):g(-d)}),U(I(te(le(i,!1),e,H),O(([d,a,C])=>!d&&!C&&a!==0),y(([d,a])=>a),ze(1)),g),L(I(T,y(d=>({top:-d}))),t),U(I(u,A(m,h),y(([d,{groupIndices:a,lastSize:C,sizeTree:B},x])=>{function f(b){return b*(C+x)}if(a.length===0)return f(d);{let b=0;const R=Qe(B,0);let k=0,F=0;for(;k<d;){k++,b+=R;let P=a.length===F+1?1/0:a[F+1]-a[F]-1;k+P>d&&(b-=R,P=d-k+1),k+=P,b+=f(P),F++}return b}})),d=>{G(e,d),requestAnimationFrame(()=>{G(t,{top:d}),requestAnimationFrame(()=>{G(e,0),G(H,!1)})})}),{deviation:e}},X(ue,it,Ge,He,ke,Wt)),Nn=N(([e,t,o,n,r,i,s,l,c,u])=>({...e,...t,...o,...n,...r,...i,...s,...l,...c,...u}),X(At,On,Fe,Wo,Mo,Mn,Ln,Dt,jn,ke)),Po=N(([{data:e,defaultItemSize:t,firstItemIndex:o,fixedItemSize:n,gap:r,groupIndices:i,itemSize:s,sizeRanges:l,sizes:c,statefulTotalCount:u,totalCount:h,trackItemSizes:T},{initialItemFinalLocationReached:m,initialTopMostItemIndex:p,scrolledToInitialItem:H},v,g,d,{listState:a,topItemsIndexes:C,...B},{scrollToIndex:x},f,{topItemCount:b},{groupCounts:R},k])=>(L(B.rangeChanged,k.scrollSeekRangeChanged),L(I(k.windowViewportRect,y(F=>F.visibleHeight)),v.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:o,fixedItemHeight:n,gap:r,groupCounts:R,initialItemFinalLocationReached:m,initialTopMostItemIndex:p,scrolledToInitialItem:H,sizeRanges:l,topItemCount:b,topItemsIndexes:C,totalCount:h,...d,groupIndices:i,itemSize:s,listState:a,scrollToIndex:x,statefulTotalCount:u,trackItemSizes:T,...B,...k,...v,sizes:c,...g}),X(He,rt,ue,Pn,Fn,Ge,nt,Vn,An,Lo,Nn));function $n(e,t){const o={},n={};let r=0;const i=e.length;for(;r<i;)n[e[r]]=1,r+=1;for(const s in t)Object.hasOwn(n,s)||(o[s]=t[s]);return o}const ut=typeof document<"u"?z.useLayoutEffect:z.useEffect;function Go(e,t,o){const n=Object.keys(t.required||{}),r=Object.keys(t.optional||{}),i=Object.keys(t.methods||{}),s=Object.keys(t.events||{}),l=z.createContext({});function c(g,d){g.propsReady&&G(g.propsReady,!1);for(const a of n){const C=g[t.required[a]];G(C,d[a])}for(const a of r)if(a in d){const C=g[t.optional[a]];G(C,d[a])}g.propsReady&&G(g.propsReady,!0)}function u(g){return i.reduce((d,a)=>(d[a]=C=>{const B=g[t.methods[a]];G(B,C)},d),{})}function h(g){return s.reduce((d,a)=>(d[a]=rn(g[t.events[a]]),d),{})}const T=z.forwardRef((g,d)=>{const{children:a,...C}=g,[B]=z.useState(()=>It(sn(e),b=>{c(b,C)})),[x]=z.useState(Zt(h,B));ut(()=>{for(const b of s)b in C&&U(x[b],C[b]);return()=>{Object.values(x).map(Ot)}},[C,x,B]),ut(()=>{c(B,C)}),z.useImperativeHandle(d,Xt(u(B)));const f=o;return j.jsx(l.Provider,{value:B,children:o?j.jsx(f,{...$n([...n,...r,...s],C),children:a}):a})}),m=g=>z.useCallback(vo(G,z.useContext(l)[g]),[g]),p=g=>{const d=z.useContext(l)[g],a=z.useCallback(C=>U(d,C),[d]);return z.useSyncExternalStore(a,()=>ie(d),()=>ie(d))},H=g=>{const d=z.useContext(l)[g],[a,C]=z.useState(Zt(ie,d));return ut(()=>U(d,B=>{B!==a&&C(Xt(B))}),[d,a]),a},v=z.version.startsWith("18")?p:H;return{Component:T,useEmitter:(g,d)=>{const a=z.useContext(l)[g];ut(()=>U(a,d),[d,a])},useEmitterValue:v,usePublisher:m}}const Ao=z.createContext(void 0),Do=z.createContext(void 0),Vo=typeof document<"u"?z.useLayoutEffect:z.useEffect;function Ht(e){return"self"in e}function _n(e){return"body"in e}function No(e,t,o,n=Ue,r,i){const s=z.useRef(null),l=z.useRef(null),c=z.useRef(null),u=z.useCallback(m=>{let p,H,v;const g=m.target;if(_n(g)||Ht(g)){const a=Ht(g)?g:g.defaultView;v=i?a.scrollX:a.scrollY,p=i?a.document.documentElement.scrollWidth:a.document.documentElement.scrollHeight,H=i?a.innerWidth:a.innerHeight}else v=i?g.scrollLeft:g.scrollTop,p=i?g.scrollWidth:g.scrollHeight,H=i?g.offsetWidth:g.offsetHeight;const d=()=>{e({scrollHeight:p,scrollTop:Math.max(v,0),viewportHeight:H})};m.suppressFlushSync?d():Jo.flushSync(d),l.current!==null&&(v===l.current||v<=0||v===p-H)&&(l.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t]);z.useEffect(()=>{const m=r||s.current;return n(r||s.current),u({suppressFlushSync:!0,target:m}),m.addEventListener("scroll",u,{passive:!0}),()=>{n(null),m.removeEventListener("scroll",u)}},[s,u,o,n,r]);function h(m){const p=s.current;if(!p||(i?"offsetWidth"in p&&p.offsetWidth===0:"offsetHeight"in p&&p.offsetHeight===0))return;const H=m.behavior==="smooth";let v,g,d;Ht(p)?(g=Math.max(Ee(p.document.documentElement,i?"width":"height"),i?p.document.documentElement.scrollWidth:p.document.documentElement.scrollHeight),v=i?p.innerWidth:p.innerHeight,d=i?window.scrollX:window.scrollY):(g=p[i?"scrollWidth":"scrollHeight"],v=Ee(p,i?"width":"height"),d=p[i?"scrollLeft":"scrollTop"]);const a=g-v;if(m.top=Math.ceil(Math.max(Math.min(a,m.top),0)),Fo(v,g)||m.top===d){e({scrollHeight:g,scrollTop:d,viewportHeight:v}),H&&t(!0);return}H?(l.current=m.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,l.current=null,t(!0)},1e3)):l.current=null,i&&(m={behavior:m.behavior,left:m.top}),p.scrollTo(m)}function T(m){i&&(m={behavior:m.behavior,left:m.top}),s.current.scrollBy(m)}return{scrollByCallback:T,scrollerRef:s,scrollToCallback:h}}const yt="-webkit-sticky",co="sticky",$o=jo(()=>{if(typeof document>"u")return co;const e=document.createElement("div");return e.style.position=yt,e.style.position===yt?yt:co});function Vt(e){return e}const Un=N(()=>{const e=S(c=>`Item ${c}`),t=S(null),o=S(c=>`Group ${c}`),n=S({}),r=S(Vt),i=S("div"),s=S(Ue),l=(c,u=null)=>le(I(n,y(h=>h[c]),Y()),u);return{components:n,computeItemKey:r,context:t,EmptyPlaceholder:l("EmptyPlaceholder"),FooterComponent:l("Footer"),GroupComponent:l("Group","div"),groupContent:o,HeaderComponent:l("Header"),HeaderFooterTag:i,ItemComponent:l("Item","div"),itemContent:e,ListComponent:l("List","div"),ScrollerComponent:l("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TopItemListComponent:l("TopItemList")}}),qn=N(([e,t])=>({...e,...t}),X(Po,Un)),Kn=({height:e})=>j.jsx("div",{style:{height:e}}),Yn={overflowAnchor:"none",position:$o(),zIndex:1},_o={overflowAnchor:"none"},Xn={..._o,display:"inline-block",height:"100%"},uo=z.memo(function({showTopList:e=!1}){const t=W("listState"),o=ge("sizeRanges"),n=W("useWindowScroll"),r=W("customScrollParent"),i=ge("windowScrollContainerState"),s=ge("scrollContainerState"),l=r||n?i:s,c=W("itemContent"),u=W("context"),h=W("groupContent"),T=W("trackItemSizes"),m=W("itemSize"),p=W("log"),H=ge("gap"),v=W("horizontalDirection"),{callbackRef:g}=an(o,m,T,e?Ue:l,p,H,r,v,W("skipAnimationFrameInResizeObserver")),[d,a]=z.useState(0);Nt("deviation",E=>{d!==E&&a(E)});const C=W("EmptyPlaceholder"),B=W("ScrollSeekPlaceholder")||Kn,x=W("ListComponent"),f=W("ItemComponent"),b=W("GroupComponent"),R=W("computeItemKey"),k=W("isSeeking"),F=W("groupIndices").length>0,P=W("alignToBottom"),$=W("initialItemFinalLocationReached"),K=e?{}:{boxSizing:"border-box",...v?{display:"inline-block",height:"100%",marginLeft:d!==0?d:P?"auto":0,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:"nowrap"}:{marginTop:d!==0?d:P?"auto":0,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...$?{}:{visibility:"hidden"}};return!e&&t.totalCount===0&&C?j.jsx(C,{...re(C,u)}):j.jsx(x,{...re(x,u),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:g,style:K,children:(e?t.topItems:t.items).map(E=>{const _=E.originalIndex,oe=R(_+t.firstItemIndex,E.data,u);return k?ce.createElement(B,{...re(B,u),height:E.size,index:E.index,key:oe,type:E.type||"item",...E.type==="group"?{}:{groupIndex:E.groupIndex}}):E.type==="group"?ce.createElement(b,{...re(b,u),"data-index":_,"data-item-index":E.index,"data-known-size":E.size,key:oe,style:Yn},h(E.index,u)):ce.createElement(f,{...re(f,u),...er(f,E.data),"data-index":_,"data-item-group-index":E.groupIndex,"data-item-index":E.index,"data-known-size":E.size,key:oe,style:v?Xn:_o},F?c(E.index,E.groupIndex,E.data,u):c(E.index,E.data,u))})})}),Zn={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Jn={outline:"none",overflowX:"auto",position:"relative"},St=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),Qn={position:$o(),top:0,width:"100%",zIndex:1};function re(e,t){if(typeof e!="string")return{context:t}}function er(e,t){return{item:typeof e=="string"?void 0:t}}const tr=z.memo(function(){const e=W("HeaderComponent"),t=ge("headerHeight"),o=W("HeaderFooterTag"),n=Pe(z.useMemo(()=>i=>{t(Ee(i,"height"))},[t]),!0,W("skipAnimationFrameInResizeObserver")),r=W("context");return e?j.jsx(o,{ref:n,children:j.jsx(e,{...re(e,r)})}):null}),or=z.memo(function(){const e=W("FooterComponent"),t=ge("footerHeight"),o=W("HeaderFooterTag"),n=Pe(z.useMemo(()=>i=>{t(Ee(i,"height"))},[t]),!0,W("skipAnimationFrameInResizeObserver")),r=W("context");return e?j.jsx(o,{ref:n,children:j.jsx(e,{...re(e,r)})}):null});function Uo({useEmitter:e,useEmitterValue:t,usePublisher:o}){return z.memo(function({children:n,style:r,...i}){const s=o("scrollContainerState"),l=t("ScrollerComponent"),c=o("smoothScrollTargetReached"),u=t("scrollerRef"),h=t("context"),T=t("horizontalDirection")||!1,{scrollByCallback:m,scrollerRef:p,scrollToCallback:H}=No(s,c,l,u,void 0,T);return e("scrollTo",H),e("scrollBy",m),j.jsx(l,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:p,style:{...T?Jn:Zn,...r},tabIndex:0,...i,...re(l,h),children:n})})}function qo({useEmitter:e,useEmitterValue:t,usePublisher:o}){return z.memo(function({children:n,style:r,...i}){const s=o("windowScrollContainerState"),l=t("ScrollerComponent"),c=o("smoothScrollTargetReached"),u=t("totalListHeight"),h=t("deviation"),T=t("customScrollParent"),m=t("context"),p=z.useRef(null),H=t("scrollerRef"),{scrollByCallback:v,scrollerRef:g,scrollToCallback:d}=No(s,c,l,H,T);return Vo(()=>{var a;return g.current=T||((a=p.current)==null?void 0:a.ownerDocument.defaultView),()=>{g.current=null}},[g,T]),e("windowScrollTo",d),e("scrollBy",v),j.jsx(l,{ref:p,"data-virtuoso-scroller":!0,style:{position:"relative",...r,...u!==0?{height:u+h}:{}},...i,...re(l,m),children:n})})}const nr=({children:e})=>{const t=z.useContext(Ao),o=ge("viewportHeight"),n=ge("fixedItemHeight"),r=W("alignToBottom"),i=W("horizontalDirection"),s=z.useMemo(()=>Io(o,c=>Ee(c,i?"width":"height")),[o,i]),l=Pe(s,!0,W("skipAnimationFrameInResizeObserver"));return z.useEffect(()=>{t&&(o(t.viewportHeight),n(t.itemHeight))},[t,o,n]),j.jsx("div",{"data-viewport-type":"element",ref:l,style:St(r),children:e})},rr=({children:e})=>{const t=z.useContext(Ao),o=ge("windowViewportRect"),n=ge("fixedItemHeight"),r=W("customScrollParent"),i=So(o,r,W("skipAnimationFrameInResizeObserver")),s=W("alignToBottom");return z.useEffect(()=>{t&&(n(t.itemHeight),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,o,n]),j.jsx("div",{"data-viewport-type":"window",ref:i,style:St(s),children:e})},ir=({children:e})=>{const t=W("TopItemListComponent")||"div",o=W("headerHeight"),n={...Qn,marginTop:`${o}px`},r=W("context");return j.jsx(t,{style:n,...re(t,r),children:e})},lr=z.memo(function(e){const t=W("useWindowScroll"),o=W("topItemsIndexes").length>0,n=W("customScrollParent"),r=W("context"),i=n||t?ur:cr,s=n||t?rr:nr;return j.jsxs(i,{...e,...re(i,r),children:[o&&j.jsx(ir,{children:j.jsx(uo,{showTopList:!0})}),j.jsxs(s,{children:[j.jsx(tr,{}),j.jsx(uo,{}),j.jsx(or,{})]})]})}),{Component:sr,useEmitter:Nt,useEmitterValue:W,usePublisher:ge}=Go(qn,{events:{atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",endReached:"endReached",groupIndices:"groupIndices",isScrolling:"isScrolling",itemsRendered:"itemsRendered",rangeChanged:"rangeChanged",startReached:"startReached",totalListHeightChanged:"totalListHeightChanged"},methods:{autoscrollToBottom:"autoscrollToBottom",getState:"getState",scrollBy:"scrollBy",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollToIndex:"scrollToIndex"},optional:{alignToBottom:"alignToBottom",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",components:"components",computeItemKey:"computeItemKey",context:"context",customScrollParent:"customScrollParent",data:"data",defaultItemHeight:"defaultItemHeight",firstItemIndex:"firstItemIndex",fixedItemHeight:"fixedItemHeight",followOutput:"followOutput",groupContent:"groupContent",groupCounts:"groupCounts",headerFooterTag:"HeaderFooterTag",horizontalDirection:"horizontalDirection",increaseViewportBy:"increaseViewportBy",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",initialTopMostItemIndex:"initialTopMostItemIndex",itemContent:"itemContent",itemSize:"itemSize",logLevel:"logLevel",overscan:"overscan",restoreStateFrom:"restoreStateFrom",scrollerRef:"scrollerRef",scrollSeekConfiguration:"scrollSeekConfiguration",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver",topItemCount:"topItemCount",totalCount:"totalCount",useWindowScroll:"useWindowScroll"},required:{}},lr),cr=Uo({useEmitter:Nt,useEmitterValue:W,usePublisher:ge}),ur=qo({useEmitter:Nt,useEmitterValue:W,usePublisher:ge}),ar=sr,dr=N(()=>{const e=S(c=>j.jsxs("td",{children:["Item $",c]})),t=S(null),o=S(null),n=S(null),r=S({}),i=S(Vt),s=S(Ue),l=(c,u=null)=>le(I(r,y(h=>h[c]),Y()),u);return{components:r,computeItemKey:i,context:t,EmptyPlaceholder:l("EmptyPlaceholder"),FillerRow:l("FillerRow"),fixedFooterContent:n,fixedHeaderContent:o,itemContent:e,ScrollerComponent:l("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TableBodyComponent:l("TableBody","tbody"),TableComponent:l("Table","table"),TableFooterComponent:l("TableFoot","tfoot"),TableHeadComponent:l("TableHead","thead"),TableRowComponent:l("TableRow","tr")}});X(Po,dr);const ao={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},fr={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:fo,floor:pt,max:Ze,min:Rt,round:ho}=Math;function mo(e,t,o){return Array.from({length:t-e+1}).map((n,r)=>({data:o===null?null:o[r+e],index:r+e}))}function hr(e){return{...fr,items:e}}function at(e,t){return e&&e.width===t.width&&e.height===t.height}function mr(e,t){return e&&e.column===t.column&&e.row===t.row}const gr=N(([{increaseViewportBy:e,listBoundary:t,overscan:o,visibleRange:n},{footerHeight:r,headerHeight:i,scrollBy:s,scrollContainerState:l,scrollTo:c,scrollTop:u,smoothScrollTargetReached:h,viewportHeight:T},m,p,{didMount:H,propsReady:v},{customScrollParent:g,useWindowScroll:d,windowScrollContainerState:a,windowScrollTo:C,windowViewportRect:B},x])=>{const f=S(0),b=S(0),R=S(ao),k=S({height:0,width:0}),F=S({height:0,width:0}),P=V(),$=V(),K=S(0),E=S(null),_=S({column:0,row:0}),oe=V(),me=V(),xe=S(!1),Ie=S(0),ae=S(!0),se=S(!1),Oe=S(!1);U(I(H,A(Ie),O(([w,D])=>!!D)),()=>{G(ae,!1)}),U(I(te(H,ae,F,k,Ie,se),O(([w,D,Z,ne,,Q])=>w&&!D&&Z.height!==0&&ne.height!==0&&!Q)),([,,,,w])=>{G(se,!0),Pt(1,()=>{G(P,w)}),be(I(u),()=>{G(t,[0,0]),G(ae,!0)})}),L(I(me,O(w=>w!=null&&w.scrollTop>0),we(0)),b),U(I(H,A(me),O(([,w])=>w!=null)),([,w])=>{w&&(G(k,w.viewport),G(F,w.item),G(_,w.gap),w.scrollTop>0&&(G(xe,!0),be(I(u,$e(1)),D=>{G(xe,!1)}),G(c,{top:w.scrollTop})))}),L(I(k,y(({height:w})=>w)),T),L(I(te(M(k,at),M(F,at),M(_,(w,D)=>w&&w.column===D.column&&w.row===D.row),M(u)),y(([w,D,Z,ne])=>({gap:Z,item:D,scrollTop:ne,viewport:w}))),oe),L(I(te(M(f),n,M(_,mr),M(F,at),M(k,at),M(E),M(b),M(xe),M(ae),M(Ie)),O(([,,,,,,,w])=>!w),y(([w,[D,Z],ne,Q,Me,Ke,De,,lt,Re])=>{const{column:Be,row:Ye}=ne,{height:st,width:wt}=Q,{width:$t}=Me;if(De===0&&(w===0||$t===0))return ao;if(wt===0){const Yt=Gt(Re,w),Zo=Yt+Math.max(De-1,0);return hr(mo(Yt,Zo,Ke))}const ct=Ko($t,wt,Be);let Ve,We;lt?D===0&&Z===0&&De>0?(Ve=0,We=De-1):(Ve=ct*pt((D+Ye)/(st+Ye)),We=ct*fo((Z+Ye)/(st+Ye))-1,We=Rt(w-1,Ze(We,ct-1)),Ve=Rt(We,Ze(0,Ve))):(Ve=0,We=-1);const _t=mo(Ve,We,Ke),{bottom:Ut,top:qt}=go(Me,ne,Q,_t),Kt=fo(w/ct),Xo=Kt*st+(Kt-1)*Ye-Ut;return{bottom:Ut,itemHeight:st,items:_t,itemWidth:wt,offsetBottom:Xo,offsetTop:qt,top:qt}})),R),L(I(E,O(w=>w!==null),y(w=>w.length)),f),L(I(te(k,F,R,_),O(([w,D,{items:Z}])=>Z.length>0&&D.height!==0&&w.height!==0),y(([w,D,{items:Z},ne])=>{const{bottom:Q,top:Me}=go(w,ne,D,Z);return[Me,Q]}),Y(et)),t);const ve=S(!1);L(I(u,A(ve),y(([w,D])=>D||w!==0)),ve);const qe=fe(I(te(R,f),O(([{items:w}])=>w.length>0),A(ve),O(([[w,D],Z])=>{const ne=w.items[w.items.length-1].index===D-1;return(Z||w.bottom>0&&w.itemHeight>0&&w.offsetBottom===0&&w.items.length===D)&&ne}),y(([[,w]])=>w-1),Y())),Ae=fe(I(M(R),O(({items:w})=>w.length>0&&w[0].index===0),we(0),Y())),Se=fe(I(M(R),A(xe),O(([{items:w},D])=>w.length>0&&!D),y(([{items:w}])=>({endIndex:w[w.length-1].index,startIndex:w[0].index})),Y(Ro),ze(0)));L(Se,p.scrollSeekRangeChanged),L(I(P,A(k,F,f,_),y(([w,D,Z,ne,Q])=>{const Me=ko(w),{align:Ke,behavior:De,offset:lt}=Me;let Re=Me.index;Re==="LAST"&&(Re=ne-1),Re=Ze(0,Re,Rt(ne-1,Re));let Be=kt(D,Q,Z,Re);return Ke==="end"?Be=ho(Be-D.height+Z.height):Ke==="center"&&(Be=ho(Be-D.height/2+Z.height/2)),lt&&(Be+=lt),{behavior:De,top:Be}})),c);const ye=le(I(R,y(w=>w.offsetBottom+w.bottom)),0);return L(I(B,y(w=>({height:w.visibleHeight,width:w.visibleWidth}))),k),{customScrollParent:g,data:E,deviation:K,footerHeight:r,gap:_,headerHeight:i,increaseViewportBy:e,initialItemCount:b,itemDimensions:F,overscan:o,restoreStateFrom:me,scrollBy:s,scrollContainerState:l,scrollHeight:$,scrollTo:c,scrollToIndex:P,scrollTop:u,smoothScrollTargetReached:h,totalCount:f,useWindowScroll:d,viewportDimensions:k,windowScrollContainerState:a,windowScrollTo:C,windowViewportRect:B,...p,gridState:R,horizontalDirection:Oe,initialTopMostItemIndex:Ie,totalListHeight:ye,...m,endReached:qe,propsReady:v,rangeChanged:Se,startReached:Ae,stateChanged:oe,stateRestoreInProgress:xe,...x}},X(At,ue,it,Wo,Fe,Dt,ke));function Ko(e,t,o){return Ze(1,pt((e+o)/(pt(t)+o)))}function go(e,t,o,n){const{height:r}=o;if(r===void 0||n.length===0)return{bottom:0,top:0};const i=kt(e,t,o,n[0].index);return{bottom:kt(e,t,o,n[n.length-1].index)+r,top:i}}function kt(e,t,o,n){const r=Ko(e.width,o.width,t.column),i=pt(n/r),s=i*o.height+Ze(0,i-1)*t.row;return s>0?s+t.row:s}const pr=N(()=>{const e=S(T=>`Item ${T}`),t=S({}),o=S(null),n=S("virtuoso-grid-item"),r=S("virtuoso-grid-list"),i=S(Vt),s=S("div"),l=S(Ue),c=(T,m=null)=>le(I(t,y(p=>p[T]),Y()),m),u=S(!1),h=S(!1);return L(M(h),u),{components:t,computeItemKey:i,context:o,FooterComponent:c("Footer"),HeaderComponent:c("Header"),headerFooterTag:s,itemClassName:n,ItemComponent:c("Item","div"),itemContent:e,listClassName:r,ListComponent:c("List","div"),readyStateChanged:u,reportReadyState:h,ScrollerComponent:c("Scroller","div"),scrollerRef:l,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}),xr=N(([e,t])=>({...e,...t}),X(gr,pr)),Ir=z.memo(function(){const e=J("gridState"),t=J("listClassName"),o=J("itemClassName"),n=J("itemContent"),r=J("computeItemKey"),i=J("isSeeking"),s=pe("scrollHeight"),l=J("ItemComponent"),c=J("ListComponent"),u=J("ScrollSeekPlaceholder"),h=J("context"),T=pe("itemDimensions"),m=pe("gap"),p=J("log"),H=J("stateRestoreInProgress"),v=pe("reportReadyState"),g=Pe(z.useMemo(()=>d=>{const a=d.parentElement.parentElement.scrollHeight;s(a);const C=d.firstChild;if(C){const{height:B,width:x}=C.getBoundingClientRect();T({height:B,width:x})}m({column:po("column-gap",getComputedStyle(d).columnGap,p),row:po("row-gap",getComputedStyle(d).rowGap,p)})},[s,T,m,p]),!0,!1);return Vo(()=>{e.itemHeight>0&&e.itemWidth>0&&v(!0)},[e]),H?null:j.jsx(c,{className:t,ref:g,...re(c,h),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(d=>{const a=r(d.index,d.data,h);return i?j.jsx(u,{...re(u,h),height:e.itemHeight,index:d.index,width:e.itemWidth},a):ce.createElement(l,{...re(l,h),className:o,"data-index":d.index,key:a},n(d.index,d.data,h))})})}),vr=z.memo(function(){const e=J("HeaderComponent"),t=pe("headerHeight"),o=J("headerFooterTag"),n=Pe(z.useMemo(()=>i=>{t(Ee(i,"height"))},[t]),!0,!1),r=J("context");return e?j.jsx(o,{ref:n,children:j.jsx(e,{...re(e,r)})}):null}),Tr=z.memo(function(){const e=J("FooterComponent"),t=pe("footerHeight"),o=J("headerFooterTag"),n=Pe(z.useMemo(()=>i=>{t(Ee(i,"height"))},[t]),!0,!1),r=J("context");return e?j.jsx(o,{ref:n,children:j.jsx(e,{...re(e,r)})}):null}),Sr=({children:e})=>{const t=z.useContext(Do),o=pe("itemDimensions"),n=pe("viewportDimensions"),r=Pe(z.useMemo(()=>i=>{n(i.getBoundingClientRect())},[n]),!0,!1);return z.useEffect(()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),o({height:t.itemHeight,width:t.itemWidth}))},[t,n,o]),j.jsx("div",{ref:r,style:St(!1),children:e})},wr=({children:e})=>{const t=z.useContext(Do),o=pe("windowViewportRect"),n=pe("itemDimensions"),r=J("customScrollParent"),i=So(o,r,!1);return z.useEffect(()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,o,n]),j.jsx("div",{ref:i,style:St(!1),children:e})},Cr=z.memo(function({...e}){const t=J("useWindowScroll"),o=J("customScrollParent"),n=o||t?Hr:br,r=o||t?wr:Sr,i=J("context");return j.jsx(n,{...e,...re(n,i),children:j.jsxs(r,{children:[j.jsx(vr,{}),j.jsx(Ir,{}),j.jsx(Tr,{})]})})}),{useEmitter:Yo,useEmitterValue:J,usePublisher:pe}=Go(xr,{events:{atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",endReached:"endReached",isScrolling:"isScrolling",rangeChanged:"rangeChanged",readyStateChanged:"readyStateChanged",startReached:"startReached",stateChanged:"stateChanged"},methods:{scrollBy:"scrollBy",scrollTo:"scrollTo",scrollToIndex:"scrollToIndex"},optional:{components:"components",computeItemKey:"computeItemKey",context:"context",customScrollParent:"customScrollParent",data:"data",headerFooterTag:"headerFooterTag",increaseViewportBy:"increaseViewportBy",initialItemCount:"initialItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",itemClassName:"itemClassName",itemContent:"itemContent",listClassName:"listClassName",logLevel:"logLevel",overscan:"overscan",restoreStateFrom:"restoreStateFrom",scrollerRef:"scrollerRef",scrollSeekConfiguration:"scrollSeekConfiguration",totalCount:"totalCount",useWindowScroll:"useWindowScroll"}},Cr),br=Uo({useEmitter:Yo,useEmitterValue:J,usePublisher:pe}),Hr=qo({useEmitter:Yo,useEmitterValue:J,usePublisher:pe});function po(e,t,o){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&o(`${e} was not resolved to pixel value correctly`,t,he.WARN),t==="normal"?0:parseInt(t??"0",10)}function yr(e){const t=/^\u001b\[([;0-9]*)m$/,o={isSelectGraphicRendition:!1,escapeCode:e},n=t.exec(e);if(n){o.isSelectGraphicRendition=!0,o.setFG=!1,o.setBG=!1,o.resetFG=!1,o.resetBG=!1;const r=(n[1]||"").split(";").map(i=>parseInt(i||"0"));for(const i of r)i>=30&&i<=37?o.setFG=i-30:i>=40&&i<=47?o.setBG=i-40:((i===38||i===0)&&(o.resetFG=!0,o.setFG=!1),(i===48||i===0)&&(o.resetBG=!0,o.setBG=!1))}return o}function Rr(e){if(typeof e!="string")return[];const t=e.length;if(t===0)return[];let o=0,n=0,r=0,i=0,s=0;const l=[];for(;o<t&&(n=e.indexOf("\x1B",o),n!==-1);){if(i=e.indexOf("<!--",o),s=e.indexOf("-->",i),s!==-1&&(s+=3),n>i&&n<s){o=s;continue}n>o&&(l.push(e.substring(o,n)),o=n),n+=2;let c=e.charCodeAt(n);for(;n<t&&(c<64||c>126);)n++,c=e.charCodeAt(n);const u=yr(e.substring(o,n+1));l.push(u),o=n+1,r=o}return r<t&&l.push(e.substr(r)),l}function Br(e,t){const o=[];let n={setFG:!1,setBG:!1};for(let r=0;r<e.length;r++){let i=e[r];if(typeof i=="string")if(!n.setFG&&!n.setBG)o.push(j.jsx("div",{dangerouslySetInnerHTML:{__html:i}},`${t}-${r}`));else{const s=[];typeof n.setFG=="number"&&s.push(`ansi-fg-${n.setFG}`),typeof n.setBG=="number"&&s.push(`ansi-bg-${n.setBG}`),o.push(j.jsx("span",{className:s.join(" "),children:i}))}else if(i.isSelectGraphicRendition){const s={...n};i.resetFG&&(s.setFG=!1),i.resetBG&&(s.setBG=!1),typeof i.setFG=="number"&&(s.setFG=i.setFG),typeof i.setBG=="number"&&(s.setBG=i.setBG),n=s}}return o}const zr=e=>{const t=ce.useRef(null);return ce.useEffect(()=>{const o=t.current?t.current.getBoundingClientRect().height:0;e.heightCallback(o),window.Behaviour.applySubtree(document.getElementById(`${e.stepId}-${e.lineNumber}`))},[]),j.jsxs("pre",{style:{background:"none",border:"none"},className:"console-output-line",children:[j.jsx("div",{className:"console-output-line-anchor",id:`log-${e.lineNumber}`},`${e.lineNumber}-anchor`),j.jsxs("div",{className:"console-output-line",ref:t,children:[j.jsx("a",{className:"console-line-number",href:`?start-byte=${e.startByte}&selected-node=${e.stepId}#log-${e.lineNumber}`,style:{width:Math.max(9*String(e.lineNumber).length,30)+"px"},children:e.lineNumber}),j.jsx("div",{id:`${e.stepId}-${e.lineNumber}`,className:"console-text",children:Br(Rr(e.content),`${e.stepId}-${e.lineNumber}`)})]},`${e.lineNumber}-body`)]},`console-line-pre${e.lineNumber}`)};function Lr(e){const t=ce.useRef(null),o=ce.useRef(null),[n,r]=ce.useState(!1),[i,s]=ce.useState(1);ce.useEffect(()=>()=>{t.current&&clearInterval(t.current)},[]),ce.useEffect(()=>{n&&e.logBuffer.lines.length>0&&o.current&&e.logBuffer.lines&&requestAnimationFrame(()=>{const u=document.documentElement.scrollHeight;window.scrollTo({top:u})})},[e.logBuffer.lines]),ce.useEffect(()=>{const u=()=>{const h=window.scrollY+window.innerHeight,m=document.body.scrollHeight-h<300;r(m)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]),ce.useEffect(()=>{n&&c()?t.current||(t.current=setInterval(()=>{e.handleMoreConsoleClick(e.step.id,e.logBuffer.startByte)},1e3)):t.current&&(clearInterval(t.current),t.current=null)},[n,e.step,e.logBuffer]);const l=ce.useCallback(u=>{(u>i||i===1)&&s(u)},[i]),c=()=>e.step.state===Qo.running||e.logBuffer.startByte<0;return j.jsx(ar,{useWindowScroll:!0,ref:o,data:e.logBuffer.lines,itemContent:(u,h)=>j.jsx(zr,{lineNumber:String(u),content:h,stepId:e.step.id,startByte:e.logBuffer.startByte,heightCallback:l})})}export{Lr as default};
//# sourceMappingURL=ConsoleLogStream-C9Lr7KnS.js.map
